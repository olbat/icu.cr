<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Crystal Docs 1.9.2">
<meta name="crystal_docs.project_version" content="master">
<meta name="crystal_docs.project_name" content="icu">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="icu">
  <title>ICU::BiDi - icu master</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill="currentColor" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<input type="checkbox" id="sidebar-btn">
<label for="sidebar-btn" id="sidebar-btn-label">
  <svg class="open" xmlns="http://www.w3.org/2000/svg" height="2em" width="2em" viewBox="0 0 512 512"><title>Open Sidebar</title><path fill="currentColor" d="M80 96v64h352V96H80zm0 112v64h352v-64H80zm0 112v64h352v-64H80z"></path></svg>
  <svg class="close" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 512 512"><title>Close Sidebar</title><path fill="currentColor" d="m118.6 73.4-45.2 45.2L210.7 256 73.4 393.4l45.2 45.2L256 301.3l137.4 137.3 45.2-45.2L301.3 256l137.3-137.4-45.2-45.2L256 210.7Z"></path></svg>
</label>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          icu
        </a>
      </h1>

      <span class="project-version">
        master
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="icu/toplevel" data-name="top level namespace">
      <a href="../toplevel.html">Top Level Namespace</a>
      
    </li>
  
  <li class=" " data-id="icu/Char" data-name="char">
      <a href="../Char.html">Char</a>
      
    </li>
  
  <li class="parent open current" data-id="icu/ICU" data-name="icu">
      <a href="../ICU.html">ICU</a>
      
        <ul>
  
  <li class="parent open current" data-id="icu/ICU/BiDi" data-name="icu::bidi">
      <a href="../ICU/BiDi.html">BiDi</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/BiDi/Direction" data-name="icu::bidi::direction">
      <a href="../ICU/BiDi/Direction.html">Direction</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/BiDi/Level" data-name="icu::bidi::level">
      <a href="../ICU/BiDi/Level.html">Level</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/BiDi/ParagraphInfo" data-name="icu::bidi::paragraphinfo">
      <a href="../ICU/BiDi/ParagraphInfo.html">ParagraphInfo</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/BiDi/ReorderingMode" data-name="icu::bidi::reorderingmode">
      <a href="../ICU/BiDi/ReorderingMode.html">ReorderingMode</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/BiDi/ReorderingOption" data-name="icu::bidi::reorderingoption">
      <a href="../ICU/BiDi/ReorderingOption.html">ReorderingOption</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/BiDi/VisualRunInfo" data-name="icu::bidi::visualruninfo">
      <a href="../ICU/BiDi/VisualRunInfo.html">VisualRunInfo</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/BiDi/WriteOption" data-name="icu::bidi::writeoption">
      <a href="../ICU/BiDi/WriteOption.html">WriteOption</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/BreakIterator" data-name="icu::breakiterator">
      <a href="../ICU/BreakIterator.html">BreakIterator</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/BreakIterator/Type" data-name="icu::breakiterator::type">
      <a href="../ICU/BreakIterator/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/Calendar" data-name="icu::calendar">
      <a href="../ICU/Calendar.html">Calendar</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/Calendar/DateField" data-name="icu::calendar::datefield">
      <a href="../ICU/Calendar/DateField.html">DateField</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Calendar/Type" data-name="icu::calendar::type">
      <a href="../ICU/Calendar/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/CharsetDetector" data-name="icu::charsetdetector">
      <a href="../ICU/CharsetDetector.html">CharsetDetector</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/CharsetDetector/CharsetMatch" data-name="icu::charsetdetector::charsetmatch">
      <a href="../ICU/CharsetDetector/CharsetMatch.html">CharsetMatch</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/Collator" data-name="icu::collator">
      <a href="../ICU/Collator.html">Collator</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/Collator/Attribute" data-name="icu::collator::attribute">
      <a href="../ICU/Collator/Attribute.html">Attribute</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Collator/AttributeValue" data-name="icu::collator::attributevalue">
      <a href="../ICU/Collator/AttributeValue.html">AttributeValue</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Collator/BoundMode" data-name="icu::collator::boundmode">
      <a href="../ICU/Collator/BoundMode.html">BoundMode</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Collator/ReorderCode" data-name="icu::collator::reordercode">
      <a href="../ICU/Collator/ReorderCode.html">ReorderCode</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Collator/RuleOption" data-name="icu::collator::ruleoption">
      <a href="../ICU/Collator/RuleOption.html">RuleOption</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Collator/Strength" data-name="icu::collator::strength">
      <a href="../ICU/Collator/Strength.html">Strength</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/Currencies" data-name="icu::currencies">
      <a href="../ICU/Currencies.html">Currencies</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/Currencies/NameStyle" data-name="icu::currencies::namestyle">
      <a href="../ICU/Currencies/NameStyle.html">NameStyle</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Currencies/Type" data-name="icu::currencies::type">
      <a href="../ICU/Currencies/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="icu/ICU/Date" data-name="icu::date">
      <a href="../ICU/Date.html">Date</a>
      
    </li>
  
  <li class="parent " data-id="icu/ICU/DateTimeFormatter" data-name="icu::datetimeformatter">
      <a href="../ICU/DateTimeFormatter.html">DateTimeFormatter</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/DateTimeFormatter/FormatStyle" data-name="icu::datetimeformatter::formatstyle">
      <a href="../ICU/DateTimeFormatter/FormatStyle.html">FormatStyle</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="icu/ICU/Error" data-name="icu::error">
      <a href="../ICU/Error.html">Error</a>
      
    </li>
  
  <li class="parent " data-id="icu/ICU/IDNA" data-name="icu::idna">
      <a href="../ICU/IDNA.html">IDNA</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/IDNA/Option" data-name="icu::idna::option">
      <a href="../ICU/IDNA/Option.html">Option</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/Locale" data-name="icu::locale">
      <a href="../ICU/Locale.html">Locale</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/Locale/AcceptResult" data-name="icu::locale::acceptresult">
      <a href="../ICU/Locale/AcceptResult.html">AcceptResult</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Locale/Capacity" data-name="icu::locale::capacity">
      <a href="../ICU/Locale/Capacity.html">Capacity</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Locale/DelimiterType" data-name="icu::locale::delimitertype">
      <a href="../ICU/Locale/DelimiterType.html">DelimiterType</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Locale/Keyword" data-name="icu::locale::keyword">
      <a href="../ICU/Locale/Keyword.html">Keyword</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Locale/LayoutType" data-name="icu::locale::layouttype">
      <a href="../ICU/Locale/LayoutType.html">LayoutType</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Locale/MeasurementSystem" data-name="icu::locale::measurementsystem">
      <a href="../ICU/Locale/MeasurementSystem.html">MeasurementSystem</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/Normalizer" data-name="icu::normalizer">
      <a href="../ICU/Normalizer.html">Normalizer</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/Normalizer/CheckResult" data-name="icu::normalizer::checkresult">
      <a href="../ICU/Normalizer/CheckResult.html">CheckResult</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Normalizer/Mode" data-name="icu::normalizer::mode">
      <a href="../ICU/Normalizer/Mode.html">Mode</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Normalizer/NFC" data-name="icu::normalizer::nfc">
      <a href="../ICU/Normalizer/NFC.html">NFC</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Normalizer/NFD" data-name="icu::normalizer::nfd">
      <a href="../ICU/Normalizer/NFD.html">NFD</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Normalizer/NFKC" data-name="icu::normalizer::nfkc">
      <a href="../ICU/Normalizer/NFKC.html">NFKC</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Normalizer/NFKCCF" data-name="icu::normalizer::nfkccf">
      <a href="../ICU/Normalizer/NFKCCF.html">NFKCCF</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Normalizer/NFKD" data-name="icu::normalizer::nfkd">
      <a href="../ICU/Normalizer/NFKD.html">NFKD</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/Normalizer/Type" data-name="icu::normalizer::type">
      <a href="../ICU/Normalizer/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/NumberFormatter" data-name="icu::numberformatter">
      <a href="../ICU/NumberFormatter.html">NumberFormatter</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/NumberFormatter/FormatAttribute" data-name="icu::numberformatter::formatattribute">
      <a href="../ICU/NumberFormatter/FormatAttribute.html">FormatAttribute</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/NumberFormatter/FormatStyle" data-name="icu::numberformatter::formatstyle">
      <a href="../ICU/NumberFormatter/FormatStyle.html">FormatStyle</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/NumberFormatter/MonetaryAmount" data-name="icu::numberformatter::monetaryamount">
      <a href="../ICU/NumberFormatter/MonetaryAmount.html">MonetaryAmount</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/PluralRules" data-name="icu::pluralrules">
      <a href="../ICU/PluralRules.html">PluralRules</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/PluralRules/Type" data-name="icu::pluralrules::type">
      <a href="../ICU/PluralRules/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="icu/ICU/Region" data-name="icu::region">
      <a href="../ICU/Region.html">Region</a>
      
    </li>
  
  <li class="parent " data-id="icu/ICU/StringSearch" data-name="icu::stringsearch">
      <a href="../ICU/StringSearch.html">StringSearch</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/StringSearch/Attribute" data-name="icu::stringsearch::attribute">
      <a href="../ICU/StringSearch/Attribute.html">Attribute</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/StringSearch/AttributeValue" data-name="icu::stringsearch::attributevalue">
      <a href="../ICU/StringSearch/AttributeValue.html">AttributeValue</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/StringSearch/Position" data-name="icu::stringsearch::position">
      <a href="../ICU/StringSearch/Position.html">Position</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="icu/ICU/Transliterator" data-name="icu::transliterator">
      <a href="../ICU/Transliterator.html">Transliterator</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/Transliterator/ID" data-name="icu::transliterator::id">
      <a href="../ICU/Transliterator/ID.html">ID</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="icu/ICU/UChar" data-name="icu::uchar">
      <a href="../ICU/UChar.html">UChar</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/UChars" data-name="icu::uchars">
      <a href="../ICU/UChars.html">UChars</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/UEnum" data-name="icu::uenum">
      <a href="../ICU/UEnum.html">UEnum</a>
      
    </li>
  
  <li class="parent " data-id="icu/ICU/UniversalTimeScale" data-name="icu::universaltimescale">
      <a href="../ICU/UniversalTimeScale.html">UniversalTimeScale</a>
      
        <ul>
  
  <li class=" " data-id="icu/ICU/UniversalTimeScale/DateTimeScale" data-name="icu::universaltimescale::datetimescale">
      <a href="../ICU/UniversalTimeScale/DateTimeScale.html">DateTimeScale</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/UniversalTimeScale/TimeScaleValues" data-name="icu::universaltimescale::timescalevalues">
      <a href="../ICU/UniversalTimeScale/TimeScaleValues.html">TimeScaleValues</a>
      
    </li>
  
  <li class=" " data-id="icu/ICU/UniversalTimeScale/UniversalTime" data-name="icu::universaltimescale::universaltime">
      <a href="../ICU/UniversalTimeScale/UniversalTime.html">UniversalTime</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="icu/String" data-name="string">
      <a href="../String.html">String</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> ICU::<wbr>BiDi

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../ICU/BiDi.html">ICU::BiDi</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p><strong>Bidirectional Algorithm</strong></p>
<p>This class provides a wrapper around ICU's Bidirectional Algorithm (BiDi)
implementation. It is used to reorder text that contains a mix of
left-to-right (LTR) and right-to-left (RTL) characters according to the
Unicode Bidirectional Algorithm.</p>
<p><em>Disclaimer</em>: this binding wrapper has been automatically generated via GenAI</p>
<p><strong>Usage</strong></p>
<pre><code class="language-crystal"><span class="c"># Example with mixed LTR and RTL text</span>
text <span class="o">=</span> <span class="s">&quot;hello \u0627\u0644\u0639\u0631\u0628\u064A\u0629 world&quot;</span> <span class="c"># &quot;hello العربية world&quot;</span>

<span class="c"># Create a BiDi object and set the text</span>
bidi <span class="o">=</span> <span class="t">ICU</span><span class="t">::</span><span class="t">BiDi</span>.new
bidi.set_text(text)

<span class="c"># Get the visual reordering</span>
reordered_text <span class="o">=</span> bidi.write_reordered
puts reordered_text <span class="c"># Output depends on terminal/environment BiDi support</span>

<span class="c"># Get the base direction (static method)</span>
puts <span class="t">ICU</span><span class="t">::</span><span class="t">BiDi</span>.base_direction(text) <span class="c"># =&gt; ICU::BiDi::Direction::Mixed</span>

<span class="c"># Get the number of runs (segments of consistent direction)</span>
puts bidi.run_count <span class="c"># =&gt; e.g., 3 (LTR, RTL, LTR)</span>

<span class="c"># Iterate through visual runs</span>
runs <span class="o">=</span> bidi.visual_runs
runs.each_with_index <span class="k">do</span> <span class="o">|</span>run, i<span class="o">|</span>
  puts <span class="s">&quot;Run </span><span class="i">#{</span>i<span class="i">}</span><span class="s">: Logical Start=</span><span class="i">#{</span>run.logical_start<span class="i">}</span><span class="s">, Length=</span><span class="i">#{</span>run.length<span class="i">}</span><span class="s">, Direction=</span><span class="i">#{</span>run.direction<span class="i">}</span><span class="s">&quot;</span>
<span class="k">end</span>

<span class="c"># Get logical index from visual index</span>
logical_idx <span class="o">=</span> bidi.logical_index(visual_idx: <span class="n">10</span>)
puts <span class="s">&quot;Logical index for visual index 10: </span><span class="i">#{</span>logical_idx<span class="i">}</span><span class="s">&quot;</span></code></pre>
<p><strong>See also</strong></p>
<ul>
<li><a href="https://unicode-org.github.io/icu/userguide/transforms/bidi.html">ICU User Guide: BiDi Algorithm</a></li>
<li><a href="https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/ubidi_8h.html">ICU C API Reference: ubidi.h</a></li>
<li><a href="https://github.com/olbat/icu.cr/blob/master/spec/bidi_spec.cr">Unit Tests</a></li>
</ul>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L44" target="_blank">
        icu/bidi.cr
      </a>
    
    <br/>
  



  
    <h2>
      <a id="constant-summary" class="anchor" href="#constant-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
      Constant Summary
    </h2>
  
  <dl>
    
      <dt class="entry-const" id="DEFAULT_LTR">
        <strong>DEFAULT_LTR</strong> = <code><span class="n">254</span>.to_u8</code>
      </dt>
      
      <dd class="entry-const-doc">
        <p>Constants for paragraph level setting used in <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code>.
<code><a href="../ICU/BiDi.html#DEFAULT_LTR">DEFAULT_LTR</a></code>: Use LTR if no strong character, otherwise auto-detect.</p>
      </dd>
      
    
      <dt class="entry-const" id="DEFAULT_RTL">
        <strong>DEFAULT_RTL</strong> = <code><span class="n">255</span>.to_u8</code>
      </dt>
      
      <dd class="entry-const-doc">
        <p><code><a href="../ICU/BiDi.html#DEFAULT_RTL">DEFAULT_RTL</a></code>: Use RTL if no strong character, otherwise auto-detect.</p>
      </dd>
      
    
      <dt class="entry-const" id="LEVEL_OVERRIDE">
        <strong>LEVEL_OVERRIDE</strong> = <code><span class="n">128</span>.to_u8</code>
      </dt>
      
      <dd class="entry-const-doc">
        <p>Bit flag used with <code>embedding_levels</code> in <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code> to override default directional properties.</p>
      </dd>
      
    
      <dt class="entry-const" id="MAP_NOWHERE">
        <strong>MAP_NOWHERE</strong> = <code><span class="n">-1</span>.to_i32</code>
      </dt>
      
      <dd class="entry-const-doc">
        <p>Special value returned by <code><a href="../ICU/BiDi.html#logical_index%28visual_index%3AInt32%29%3AInt32-instance-method">#logical_index</a></code> or <code><a href="../ICU/BiDi.html#visual_index%28logical_index%3AInt32%29%3AInt32-instance-method">#visual_index</a></code> when a mapping doesn't exist
(e.g., for removed controls or inserted marks).</p>
      </dd>
      
    
      <dt class="entry-const" id="MAX_EXPLICIT_LEVEL">
        <strong>MAX_EXPLICIT_LEVEL</strong> = <code><span class="n">125</span>.to_u8</code>
      </dt>
      
      <dd class="entry-const-doc">
        <p>Maximum explicit embedding level allowed (125).</p>
      </dd>
      
    
  </dl>



  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28text%3AString%2Cpara_level%3ALevel%3DDEFAULT_LTR%29-class-method" class="signature"><strong>.new</strong>(text : String, para_level : Level = <span class="t">DEFAULT_LTR</span>)</a>
        
          <div class="summary"><p>Creates a new BiDi object and immediately processes the given text.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new-class-method" class="signature"><strong>.new</strong></a>
        
          <div class="summary"><p>Creates a new, empty BiDi object.</p></div>
        
      </li>
    
  </ul>



  <h2>
    <a id="class-method-summary" class="anchor" href="#class-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#base_direction%28text%3AString%29%3ADirection-class-method" class="signature"><strong>.base_direction</strong>(text : String) : Direction</a>
        
          <div class="summary"><p>Static method to get the base direction of a plain text string according to the first strong character (L, R, or AL) per the Unicode Bidirectional Algorithm.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#write_reverse%28src%3AString%2Coptions%3AWriteOption%3DWriteOption%3A%3ANone%29%3AString-class-method" class="signature"><strong>.write_reverse</strong>(src : String, options : WriteOption = <span class="t">WriteOption</span><span class="t">::</span><span class="t">None</span>) : String</a>
        
          <div class="summary"><p>Static method to reverse a string character by character.</p></div>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#direction%3ADirection-instance-method" class="signature"><strong>#direction</strong> : Direction</a>
        
          <div class="summary"><p>Gets the overall direction of the processed text.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#finalize-instance-method" class="signature"><strong>#finalize</strong></a>
        
          <div class="summary"><p>Releases resources associated with the BiDi object.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#inverse%3D%28is_inverse%3ABool%29%3ANil-instance-method" class="signature"><strong>#inverse=</strong>(is_inverse : Bool) : Nil</a>
        
          <div class="summary"><p>Sets whether to use an approximation of the &quot;inverse&quot; BiDi algorithm (transforming visual order to logical order).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#inverse%3F%3ABool-instance-method" class="signature"><strong>#inverse?</strong> : Bool</a>
        
          <div class="summary"><p>Checks if the inverse BiDi algorithm mode (<code>ReorderingMode::InverseNumbersAsL</code>) is active.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#length%3AInt32-instance-method" class="signature"><strong>#length</strong> : Int32</a>
        
          <div class="summary"><p>Gets the original length of the text set by <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#logical_index%28visual_index%3AInt32%29%3AInt32-instance-method" class="signature"><strong>#logical_index</strong>(visual_index : Int32) : Int32</a>
        
          <div class="summary"><p>Maps a visual index to its corresponding logical index in the original text.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#order_paragraphs_ltr%3D%28order_ltr%3ABool%29%3ANil-instance-method" class="signature"><strong>#order_paragraphs_ltr=</strong>(order_ltr : Bool) : Nil</a>
        
          <div class="summary"><p>Sets whether paragraph separators (like U+2029) should always be treated as LTR (level 0).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#order_paragraphs_ltr%3F%3ABool-instance-method" class="signature"><strong>#order_paragraphs_ltr?</strong> : Bool</a>
        
          <div class="summary"><p>Checks if paragraph separators are forced to level 0 for LTR progression.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#para_level%3ALevel-instance-method" class="signature"><strong>#para_level</strong> : Level</a>
        
          <div class="summary"><p>Gets the base paragraph level of the text.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#paragraph%28char_index%3AInt32%29%3AParagraphInfo-instance-method" class="signature"><strong>#paragraph</strong>(char_index : Int32) : ParagraphInfo</a>
        
          <div class="summary"><p>Gets information about the paragraph containing the character at <code>char_index</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#paragraph_by_index%28para_index%3AInt32%29%3AParagraphInfo-instance-method" class="signature"><strong>#paragraph_by_index</strong>(para_index : Int32) : ParagraphInfo</a>
        
          <div class="summary"><p>Gets information about the paragraph at the specified <code>para_index</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#paragraph_count%3AInt32-instance-method" class="signature"><strong>#paragraph_count</strong> : Int32</a>
        
          <div class="summary"><p>Gets the number of paragraphs detected in the text (separated by block separators like U+2029).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reordering_mode%3AReorderingMode-instance-method" class="signature"><strong>#reordering_mode</strong> : ReorderingMode</a>
        
          <div class="summary"><p>Gets the currently active reordering mode.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reordering_mode%3D%28mode%3AReorderingMode%29%3ANil-instance-method" class="signature"><strong>#reordering_mode=</strong>(mode : ReorderingMode) : Nil</a>
        
          <div class="summary"><p>Sets the specific BiDi algorithm variant or reordering mode to use.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reordering_options%3AUInt32-instance-method" class="signature"><strong>#reordering_options</strong> : UInt32</a>
        
          <div class="summary"><p>Gets the currently active reordering options as a bitmask.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reordering_options%3D%28options%3AReorderingOption%29%3ANil-instance-method" class="signature"><strong>#reordering_options=</strong>(options : ReorderingOption) : Nil</a>
        
          <div class="summary"><p>Sets options that modify the behavior of the selected reordering mode (e.g., inserting marks, removing controls, streaming).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#result_length%3AInt32-instance-method" class="signature"><strong>#result_length</strong> : Int32</a>
        
          <div class="summary"><p>Gets the length of the reordered text that would be generated by <code><a href="../ICU/BiDi.html#write_reordered%28options%3AWriteOption%3DWriteOption%3A%3ANone%29%3AString-instance-method">#write_reordered</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#run_count%3AInt32-instance-method" class="signature"><strong>#run_count</strong> : Int32</a>
        
          <div class="summary"><p>Gets the number of directional runs in the visually reordered text.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set_context%28prologue%3AString%2Cepilogue%3AString%29%3ANil-instance-method" class="signature"><strong>#set_context</strong>(prologue : String, epilogue : String) : Nil</a>
        
          <div class="summary"><p>Sets context text that surrounds the main text processed by <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method" class="signature"><strong>#set_text</strong>(text : String, para_level : Level = <span class="n">0</span>.to_u8, embedding_levels : Array(Level) | Nil = <span class="n">nil</span>) : Nil</a>
        
          <div class="summary"><p>Sets the text to be processed by the BiDi algorithm.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#visual_index%28logical_index%3AInt32%29%3AInt32-instance-method" class="signature"><strong>#visual_index</strong>(logical_index : Int32) : Int32</a>
        
          <div class="summary"><p>Maps a logical index from the original text to its corresponding visual index.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#visual_run%28run_index%3AInt32%29%3AVisualRunInfo-instance-method" class="signature"><strong>#visual_run</strong>(run_index : Int32) : VisualRunInfo</a>
        
          <div class="summary"><p>Gets information about a specific visual run.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#visual_runs%3AArray%28VisualRunInfo%29-instance-method" class="signature"><strong>#visual_runs</strong> : Array(VisualRunInfo)</a>
        
          <div class="summary"><p>Gets an array containing information about all visual runs.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#write_reordered%28options%3AWriteOption%3DWriteOption%3A%3ANone%29%3AString-instance-method" class="signature"><strong>#write_reordered</strong>(options : WriteOption = <span class="t">WriteOption</span><span class="t">::</span><span class="t">None</span>) : String</a>
        
          <div class="summary"><p>Generates the visually reordered string based on the processed text.</p></div>
        
      </li>
    
  </ul>



<div class="methods-inherited">
  
    


    


    


    


  
    


    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(text:String,para_level:Level=DEFAULT_LTR)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(text : <a href="../String.html">String</a>, para_level : <a href="../ICU/BiDi/Level.html">Level</a> = <span class="t">DEFAULT_LTR</span>)

        <a class="method-permalink" href="#new%28text%3AString%2Cpara_level%3ALevel%3DDEFAULT_LTR%29-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a new BiDi object and immediately processes the given text.</p>
<pre><code class="language-crystal">bidi <span class="o">=</span> <span class="t">ICU</span><span class="t">::</span><span class="t">BiDi</span>.new(<span class="s">&quot;hello العربية world&quot;</span>)
puts bidi.direction <span class="c"># =&gt; ICU::BiDi::Direction::Mixed</span></code></pre>
<ul>
<li><code>text</code>: The input string.</li>
<li><code><a href="../ICU/BiDi.html#para_level%3ALevel-instance-method">#para_level</a></code>: The default paragraph level. Defaults to <code><a href="../ICU/BiDi.html#DEFAULT_LTR">DEFAULT_LTR</a></code>.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L127" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>

        <a class="method-permalink" href="#new-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a new, empty BiDi object.
You must call <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code> before performing operations.</p>
<p>For optimal performance when processing many strings of the same
approximate size, consider using <code>ICU::BiDi.open_sized</code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L114" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="class-method-detail" class="anchor" href="#class-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Detail
  </h2>
  
    <div class="entry-detail" id="base_direction(text:String):Direction-class-method">
      <div class="signature">
        
        def self.<strong>base_direction</strong>(text : <a href="../String.html">String</a>) : <a href="../ICU/BiDi/Direction.html">Direction</a>

        <a class="method-permalink" href="#base_direction%28text%3AString%29%3ADirection-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Static method to get the base direction of a plain text string according to the
first strong character (L, R, or AL) per the Unicode Bidirectional Algorithm.</p>
<ul>
<li><code>text</code>: The input string.</li>
<li>Returns <code><a href="../LibICU/UBiDiDirection.html#Ltr">Direction::Ltr</a></code>, <code><a href="../LibICU/UBiDiDirection.html#Rtl">Direction::Rtl</a></code>, or <code><a href="../LibICU/UBiDiDirection.html#Neutral">Direction::Neutral</a></code>.
Note: <code><a href="../LibICU/UBiDiDirection.html#Mixed">Direction::Mixed</a></code> is not returned by this specific function.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L360" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="write_reverse(src:String,options:WriteOption=WriteOption::None):String-class-method">
      <div class="signature">
        
        def self.<strong>write_reverse</strong>(src : <a href="../String.html">String</a>, options : <a href="../ICU/BiDi/WriteOption.html">WriteOption</a> = <span class="t">WriteOption</span><span class="t">::</span><span class="t">None</span>) : <a href="../String.html">String</a>

        <a class="method-permalink" href="#write_reverse%28src%3AString%2Coptions%3AWriteOption%3DWriteOption%3A%3ANone%29%3AString-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Static method to reverse a string character by character.
This is a simple reversal and does <em>not</em> perform the BiDi algorithm.
Use <code><a href="../ICU/BiDi.html#write_reordered%28options%3AWriteOption%3DWriteOption%3A%3ANone%29%3AString-instance-method">#write_reordered</a></code> with <code><a href="../ICU/BiDi/WriteOption.html#OutputReverse">WriteOption::OutputReverse</a></code> for BiDi-aware reversal.</p>
<ul>
<li><code>src</code>: The source string to reverse.</li>
<li><code>src</code>: The source string to reverse.</li>
<li><code>options</code>: <code><a href="../ICU/BiDi/WriteOption.html">WriteOption</a></code> flags (e.g., <code>DoMirroring</code>, <code>RemoveBidiControls</code>). Defaults to <code><a href="../ICU/BiDi/WriteOption.html#None">WriteOption::None</a></code>.</li>
<li>Returns the reversed string.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L324" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="direction:Direction-instance-method">
      <div class="signature">
        
        def <strong>direction</strong> : <a href="../ICU/BiDi/Direction.html">Direction</a>

        <a class="method-permalink" href="#direction%3ADirection-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets the overall direction of the processed text.</p>
<p>Returns <code><a href="../LibICU/UBiDiDirection.html#Ltr">Direction::Ltr</a></code>, <code><a href="../LibICU/UBiDiDirection.html#Rtl">Direction::Rtl</a></code>, or <code><a href="../LibICU/UBiDiDirection.html#Mixed">Direction::Mixed</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L180" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="finalize-instance-method">
      <div class="signature">
        
        def <strong>finalize</strong>

        <a class="method-permalink" href="#finalize-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Releases resources associated with the BiDi object.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L133" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="inverse=(is_inverse:Bool):Nil-instance-method">
      <div class="signature">
        
        def <strong>inverse=</strong>(is_inverse : Bool) : Nil

        <a class="method-permalink" href="#inverse%3D%28is_inverse%3ABool%29%3ANil-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets whether to use an approximation of the &quot;inverse&quot; BiDi algorithm
(transforming visual order to logical order).
This is equivalent to setting <code>reordering_mode = ReorderingMode::InverseNumbersAsL</code>.
Must be called <em>before</em> <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code>.</p>
<ul>
<li><code>is_inverse</code>: <code>true</code> to enable inverse mode, <code>false</code> for standard forward mode.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L371" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="inverse?:Bool-instance-method">
      <div class="signature">
        
        def <strong>inverse?</strong> : Bool

        <a class="method-permalink" href="#inverse%3F%3ABool-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Checks if the inverse BiDi algorithm mode (<code>ReorderingMode::InverseNumbersAsL</code>) is active.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L377" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="length:Int32-instance-method">
      <div class="signature">
        
        def <strong>length</strong> : Int32

        <a class="method-permalink" href="#length%3AInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets the original length of the text set by <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L185" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="logical_index(visual_index:Int32):Int32-instance-method">
      <div class="signature">
        
        def <strong>logical_index</strong>(visual_index : Int32) : Int32

        <a class="method-permalink" href="#logical_index%28visual_index%3AInt32%29%3AInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Maps a visual index to its corresponding logical index in the original text.</p>
<ul>
<li><code><a href="../ICU/BiDi.html#visual_index%28logical_index%3AInt32%29%3AInt32-instance-method">#visual_index</a></code>: The visual index (<code>0 &lt;= visual_index &lt; result_length</code>).</li>
<li>Returns the logical index (<code>Int32</code>). Returns <code><a href="../ICU/BiDi.html#MAP_NOWHERE">MAP_NOWHERE</a></code> if the visual index
corresponds to an inserted Bidi mark (if <code><a href="../ICU/BiDi/ReorderingOption.html#InsertMarks">ReorderingOption::InsertMarks</a></code> is active).</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L275" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="order_paragraphs_ltr=(order_ltr:Bool):Nil-instance-method">
      <div class="signature">
        
        def <strong>order_paragraphs_ltr=</strong>(order_ltr : Bool) : Nil

        <a class="method-permalink" href="#order_paragraphs_ltr%3D%28order_ltr%3ABool%29%3ANil-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets whether paragraph separators (like U+2029) should always be treated as LTR (level 0).
This ensures that paragraphs visually flow from left-to-right regardless of their content direction.
Must be called <em>before</em> <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code>.</p>
<ul>
<li><code>order_ltr</code>: <code>true</code> to force LTR paragraph progression, <code>false</code> for default behavior.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L386" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="order_paragraphs_ltr?:Bool-instance-method">
      <div class="signature">
        
        def <strong>order_paragraphs_ltr?</strong> : Bool

        <a class="method-permalink" href="#order_paragraphs_ltr%3F%3ABool-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Checks if paragraph separators are forced to level 0 for LTR progression.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L392" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="para_level:Level-instance-method">
      <div class="signature">
        
        def <strong>para_level</strong> : <a href="../ICU/BiDi/Level.html">Level</a>

        <a class="method-permalink" href="#para_level%3ALevel-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets the base paragraph level of the text.
If the text contains multiple paragraphs and the level was auto-detected
(<code><a href="../ICU/BiDi.html#DEFAULT_LTR">DEFAULT_LTR</a></code> or <code><a href="../ICU/BiDi.html#DEFAULT_RTL">DEFAULT_RTL</a></code>), this returns the level of the <em>first</em> paragraph.
Use <code><a href="../ICU/BiDi.html#paragraph%28char_index%3AInt32%29%3AParagraphInfo-instance-method">#paragraph</a></code> or <code><a href="../ICU/BiDi.html#paragraph_by_index%28para_index%3AInt32%29%3AParagraphInfo-instance-method">#paragraph_by_index</a></code> to get levels of specific paragraphs.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L200" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="paragraph(char_index:Int32):ParagraphInfo-instance-method">
      <div class="signature">
        
        def <strong>paragraph</strong>(char_index : Int32) : <a href="../ICU/BiDi/ParagraphInfo.html">ParagraphInfo</a>

        <a class="method-permalink" href="#paragraph%28char_index%3AInt32%29%3AParagraphInfo-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets information about the paragraph containing the character at <code>char_index</code>.</p>
<ul>
<li><code>char_index</code>: A logical index within the text (<code>0 &lt;= char_index &lt; length</code>).</li>
<li>Returns a <code><a href="../ICU/BiDi/ParagraphInfo.html">ParagraphInfo</a></code> record containing the paragraph's index, start/limit indices, and level.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L213" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="paragraph_by_index(para_index:Int32):ParagraphInfo-instance-method">
      <div class="signature">
        
        def <strong>paragraph_by_index</strong>(para_index : Int32) : <a href="../ICU/BiDi/ParagraphInfo.html">ParagraphInfo</a>

        <a class="method-permalink" href="#paragraph_by_index%28para_index%3AInt32%29%3AParagraphInfo-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets information about the paragraph at the specified <code>para_index</code>.</p>
<ul>
<li><code>para_index</code>: The index of the paragraph (<code>0 &lt;= para_index &lt; paragraph_count</code>).</li>
<li>Returns a <code><a href="../ICU/BiDi/ParagraphInfo.html">ParagraphInfo</a></code> record containing the paragraph's index, start/limit indices, and level.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L227" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="paragraph_count:Int32-instance-method">
      <div class="signature">
        
        def <strong>paragraph_count</strong> : Int32

        <a class="method-permalink" href="#paragraph_count%3AInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets the number of paragraphs detected in the text (separated by block separators like U+2029).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L205" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reordering_mode:ReorderingMode-instance-method">
      <div class="signature">
        
        def <strong>reordering_mode</strong> : <a href="../ICU/BiDi/ReorderingMode.html">ReorderingMode</a>

        <a class="method-permalink" href="#reordering_mode%3AReorderingMode-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets the currently active reordering mode.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L409" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reordering_mode=(mode:ReorderingMode):Nil-instance-method">
      <div class="signature">
        
        def <strong>reordering_mode=</strong>(mode : <a href="../ICU/BiDi/ReorderingMode.html">ReorderingMode</a>) : Nil

        <a class="method-permalink" href="#reordering_mode%3D%28mode%3AReorderingMode%29%3ANil-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets the specific BiDi algorithm variant or reordering mode to use.
See <code><a href="../ICU/BiDi/ReorderingMode.html">ReorderingMode</a></code> enum and ICU documentation for details on each mode
(e.g., default, inverse, grouping numbers, runs only).
Must be called <em>before</em> <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code>.</p>
<ul>
<li><code>mode</code>: The desired <code><a href="../ICU/BiDi/ReorderingMode.html">ReorderingMode</a></code>.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L402" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reordering_options:UInt32-instance-method">
      <div class="signature">
        
        def <strong>reordering_options</strong> : UInt32

        <a class="method-permalink" href="#reordering_options%3AUInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets the currently active reordering options as a bitmask.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L424" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reordering_options=(options:ReorderingOption):Nil-instance-method">
      <div class="signature">
        
        def <strong>reordering_options=</strong>(options : <a href="../ICU/BiDi/ReorderingOption.html">ReorderingOption</a>) : Nil

        <a class="method-permalink" href="#reordering_options%3D%28options%3AReorderingOption%29%3ANil-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets options that modify the behavior of the selected reordering mode
(e.g., inserting marks, removing controls, streaming).
Must be called <em>before</em> <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code>.</p>
<ul>
<li><code>options</code>: A <code><a href="../ICU/BiDi/ReorderingOption.html">ReorderingOption</a></code> enum value or a bitmask combination.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L418" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="result_length:Int32-instance-method">
      <div class="signature">
        
        def <strong>result_length</strong> : Int32

        <a class="method-permalink" href="#result_length%3AInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets the length of the reordered text that would be generated by <code><a href="../ICU/BiDi.html#write_reordered%28options%3AWriteOption%3DWriteOption%3A%3ANone%29%3AString-instance-method">#write_reordered</a></code>.
This may differ from the original <code><a href="../ICU/BiDi.html#length%3AInt32-instance-method">#length</a></code> if <code><a href="../ICU/BiDi/ReorderingOption.html#InsertMarks">ReorderingOption::InsertMarks</a></code>
or <code><a href="../ICU/BiDi/ReorderingOption.html#RemoveControls">ReorderingOption::RemoveControls</a></code> is active.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L192" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="run_count:Int32-instance-method">
      <div class="signature">
        
        def <strong>run_count</strong> : Int32

        <a class="method-permalink" href="#run_count%3AInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets the number of directional runs in the visually reordered text.
A run is a contiguous sequence of characters having the same level.
This function may trigger the actual reordering calculation.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L241" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set_context(prologue:String,epilogue:String):Nil-instance-method">
      <div class="signature">
        
        def <strong>set_context</strong>(prologue : <a href="../String.html">String</a>, epilogue : <a href="../String.html">String</a>) : Nil

        <a class="method-permalink" href="#set_context%28prologue%3AString%2Cepilogue%3AString%29%3ANil-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets context text that surrounds the main text processed by <code><a href="../ICU/BiDi.html#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#set_text</a></code>.
This can affect the resolution of the paragraph level, especially
when <code><a href="../ICU/BiDi.html#para_level%3ALevel-instance-method">#para_level</a></code> is <code><a href="../ICU/BiDi.html#DEFAULT_LTR">DEFAULT_LTR</a></code> or <code><a href="../ICU/BiDi.html#DEFAULT_RTL">DEFAULT_RTL</a></code>.</p>
<ul>
<li><code>prologue</code>: Text before the main text.</li>
<li><code>epilogue</code>: Text after the main text.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L167" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set_text(text:String,para_level:Level=0.to_u8,embedding_levels:Array(Level)|Nil=nil):Nil-instance-method">
      <div class="signature">
        
        def <strong>set_text</strong>(text : <a href="../String.html">String</a>, para_level : <a href="../ICU/BiDi/Level.html">Level</a> = <span class="n">0</span>.to_u8, embedding_levels : Array(<a href="../ICU/BiDi/Level.html">Level</a>) | Nil = <span class="n">nil</span>) : Nil

        <a class="method-permalink" href="#set_text%28text%3AString%2Cpara_level%3ALevel%3D0.to_u8%2Cembedding_levels%3AArray%28Level%29%7CNil%3Dnil%29%3ANil-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets the text to be processed by the BiDi algorithm.</p>
<ul>
<li><code>text</code>: The input string.</li>
<li><code><a href="../ICU/BiDi.html#para_level%3ALevel-instance-method">#para_level</a></code>: The default paragraph level. Use <code>0</code> for LTR, <code>1</code> for RTL,
or <code><a href="../ICU/BiDi.html#DEFAULT_LTR">ICU::BiDi::DEFAULT_LTR</a></code> or <code><a href="../ICU/BiDi.html#DEFAULT_RTL">ICU::BiDi::DEFAULT_RTL</a></code> to
auto-detect based on the first strong character. Defaults to <code>0</code>.</li>
<li><code>embedding_levels</code>: Optional array of embedding levels for explicit
overrides. If <code>nil</code>, levels are calculated by the algorithm.
Each level can optionally have <code><a href="../ICU/BiDi.html#LEVEL_OVERRIDE">ICU::BiDi::LEVEL_OVERRIDE</a></code> bit set.
Note: The caller is responsible for ensuring the <code>embedding_levels</code> array
remains valid as long as this <code><a href="../ICU/BiDi.html">ICU::BiDi</a></code> object is in use.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L148" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="visual_index(logical_index:Int32):Int32-instance-method">
      <div class="signature">
        
        def <strong>visual_index</strong>(logical_index : Int32) : Int32

        <a class="method-permalink" href="#visual_index%28logical_index%3AInt32%29%3AInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Maps a logical index from the original text to its corresponding visual index.</p>
<ul>
<li><code><a href="../ICU/BiDi.html#logical_index%28visual_index%3AInt32%29%3AInt32-instance-method">#logical_index</a></code>: The logical index (<code>0 &lt;= logical_index &lt; length</code>).</li>
<li>Returns the visual index (<code>Int32</code>). Returns <code><a href="../ICU/BiDi.html#MAP_NOWHERE">MAP_NOWHERE</a></code> if the logical index
corresponds to a removed Bidi control (if <code><a href="../ICU/BiDi/ReorderingOption.html#RemoveControls">ReorderingOption::RemoveControls</a></code> is active).</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L287" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="visual_run(run_index:Int32):VisualRunInfo-instance-method">
      <div class="signature">
        
        def <strong>visual_run</strong>(run_index : Int32) : <a href="../ICU/BiDi/VisualRunInfo.html">VisualRunInfo</a>

        <a class="method-permalink" href="#visual_run%28run_index%3AInt32%29%3AVisualRunInfo-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets information about a specific visual run. Runs are ordered visually (left-to-right).</p>
<ul>
<li><code>run_index</code>: The index of the visual run (<code>0 &lt;= run_index &lt; run_count</code>).</li>
<li>Returns a <code><a href="../ICU/BiDi/VisualRunInfo.html">VisualRunInfo</a></code> record containing the run's logical start index, length, and direction.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L252" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="visual_runs:Array(VisualRunInfo)-instance-method">
      <div class="signature">
        
        def <strong>visual_runs</strong> : Array(<a href="../ICU/BiDi/VisualRunInfo.html">VisualRunInfo</a>)

        <a class="method-permalink" href="#visual_runs%3AArray%28VisualRunInfo%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets an array containing information about all visual runs.</p>
<pre><code class="language-crystal">runs <span class="o">=</span> bidi.visual_runs
runs.each { <span class="o">|</span>run<span class="o">|</span> puts run }</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L265" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="write_reordered(options:WriteOption=WriteOption::None):String-instance-method">
      <div class="signature">
        
        def <strong>write_reordered</strong>(options : <a href="../ICU/BiDi/WriteOption.html">WriteOption</a> = <span class="t">WriteOption</span><span class="t">::</span><span class="t">None</span>) : <a href="../String.html">String</a>

        <a class="method-permalink" href="#write_reordered%28options%3AWriteOption%3DWriteOption%3A%3ANone%29%3AString-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Generates the visually reordered string based on the processed text.</p>
<ul>
<li><code>options</code>: <code><a href="../ICU/BiDi/WriteOption.html">WriteOption</a></code> flags to control mirroring, mark insertion/removal, etc. Defaults to <code><a href="../ICU/BiDi/WriteOption.html#None">WriteOption::None</a></code>.</li>
<li>Returns the reordered string.</li>
</ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/olbat/icu.cr/blob/5507f6bf6f65a82dff873fac722abe397111b8c7/src/icu/bidi.cr#L298" target="_blank">View source</a>]
        
      </div>
    </div>
  


</div>

</body>
</html>
